<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Awake Technologies - Exam Simulator</title>
	<link rel="stylesheet" type="text/css" href="main.css" />
</h:head>

<f:metadata>
	<f:viewParam name="q" value="#{questionViewer.questionNumber}" />
	<f:event listener="#{questionViewer.loadQuestion()}"
		type="preRenderView"/>
</f:metadata>

<h:body>
	<h:link value="Main page" outcome="index"/>
	<ui:param name="question" value="#{questionViewer.question}" />
	
##{question.number} <h:outputText value="#{question.summary}"
		escape="false" />
	<br />
	
	<h:link value="&lt; Previous" outcome="viewQuestion?q=#{questionViewer.previousQuestionNumber}" rendered="#{not empty questionViewer.previousQuestionNumber}"/>
	<h:link value="Next &gt;" outcome="viewQuestion?q=#{questionViewer.nextQuestionNumber}" rendered="#{not empty questionViewer.nextQuestionNumber}"/>
	
	<h:selectOneMenu id="selectQuestion" title="sss" value="#{questionViewer.questionNumber}" onchange="window.location='?q=' + this.options[this.selectedIndex].value">
		<f:selectItems value="#{questionViewer.allQuestions().values()}" var="currQ" itemLabel="#{currQ.number} - #{currQ.summary}" itemValue="#{currQ.number}"  />
		
	</h:selectOneMenu>
	
	<p><h:outputText value="#{questionViewer.markdownify(question.content)}" escape="false"/></p>

      Answers:
      <ol>
		<ui:repeat var="answer" value="#{question.answers}">
			<li><h:outputText value="#{answer.content}" escape="false" /></li>
		</ui:repeat>
	</ol>

<h:form prependId="false">

	<h:commandButton value="#{questionViewer.showExplanaition ? 'Hide answer' : 'Show answer'}" >
		<f:ajax listener="#{questionViewer.toggleExplanaition()}" render="@form" />
	</h:commandButton>
	
	<div>
		<h:outputText id="explanaition" value="#{questionViewer.markdownify(question.explanaition)}"
				rendered="#{questionViewer.showExplanaition}" escape="false" />
	</div>
</h:form>

</h:body>
</html>